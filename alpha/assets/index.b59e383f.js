import{s as o,_ as ss,W as t}from"./index.31c475c4.js";import{_ as Wa,d as za,a as Ua,e as H,r as b,o as Ja,g as u,l as _,n as e,t as d,z as U,k as r,x as Xa,y as Ya,u as ts,A as Be,f as Ie,E as Ue,v as Pa,m as xe,B as D,Y as Ga,h as qe,j as g,C as ae,F as De,I as Je,J as os,L as ls,H as rs,N as us,D as is}from"./vendor.f2cbf1b6.js";import{_ as Ka}from"./nothing.3e87c854.js";var ns="/assets/portrait.f194b4ce.svg";const ds=B=>(Xa("data-v-245a42a2"),B=B(),Ya(),B),_s={class:"container flex_center"},bs=ds(()=>e("div",{class:"cover"},null,-1)),ms=ds(()=>e("div",{class:"coverborder"},null,-1)),vs={class:"content"},hs={class:"title"},gs={class:"text"},fs={class:"text"},ps=za({props:{isShowTips:Boolean,isBoxId9:Boolean,whiteList:Boolean},emits:["closeFinshed"],setup(B,{expose:x,emit:he}){Ua(),x({fn:()=>{}}),H(()=>{var w;return(w=o.state.myAssets)==null?void 0:w.readyAssets});const se=H(()=>{var w,J;return(J=(w=o)==null?void 0:w.state.user)==null?void 0:J.xplanAni});b(0);const ce=()=>{o.dispatch("user/xplanChangeAni",!1),setTimeout(()=>{he("closeFinshed")},300)};return Ja(()=>{}),(w,J)=>(u(),_("div",_s,[e("div",{class:U(["mask",B.isShowTips&&(r(se)?"bounceShow":"bounceHide")])},[bs,ms,e("img",{class:"close",src:ss,alt:"",onClick:ce}),e("div",vs,[e("div",hs,d(B.isBoxId9&&B.whiteList?w.$t("message.assets.haveWhite"):w.$t("message.assets.box9HaveWhite")),1),e("p",gs,d(B.isBoxId9?w.$t("message.assets.whiteList1HavaBox"):w.$t("message.assets.whiteList1")),1),e("p",fs,d(w.$t("message.assets.whiteList2")),1)])],2)]))}});var ys=Wa(ps,[["__scopeId","data-v-245a42a2"]]);const Ve=B=>(Xa("data-v-71605580"),B=B(),Ya(),B),ws={class:"assets"},xs={class:"wrap"},$s={class:"welcome"},Bs=Ve(()=>e("div",{class:"icon"},[e("img",{src:ns,alt:""})],-1)),ks={key:0,class:"title"},Cs={key:1,class:"title"},js={class:"id"},Os={class:"desc"},As={key:0,class:"ecr"},Ls={class:"whiteList"},Ss={key:0},Ts={key:1},Fs=Ve(()=>e("img",{src:"https://d2cimmz3cflrbm.cloudfront.net/nwAssets/whitelist.png",alt:""},null,-1)),Is=Ve(()=>e("img",{src:"https://d2cimmz3cflrbm.cloudfront.net/nwAssets/whitelist.png",alt:""},null,-1)),Es={key:2},Ds=Ve(()=>e("div",{class:"line"},null,-1)),Ns={class:"myAssets"},qs={class:"item"},Vs={class:"getCoin"},Rs={class:"item"},Ws=Ve(()=>e("div",{class:"line"},null,-1)),zs={class:"title"},Ps={class:"input"},Gs=["placeholder"],Hs={class:"type"},Ms={class:"check"},Us={action:"",class:"check"},Js=["checked"],Xs={for:"type1"},Ys=["checked"],Ks={for:"type2"},Qs=["checked"],Zs={for:"type3"},et=["checked"],at={for:"type4"},st=["checked"],tt={for:"type5"},ot={class:"quality"},lt={action:"",class:"check"},it=["checked"],nt={for:"quality1"},dt=["checked"],ct={for:"quality2"},rt=["checked"],ut={for:"quality3"},_t=["checked"],bt={for:"quality4"},mt={class:"ecrchange"},vt={key:0,class:"prince"},ht={class:"boxVideo"},gt=["src"],ft={key:1,class:"third",autoplay:"",muted:"",loop:""},pt=["src"],yt={class:"name"},wt={key:0,class:"loadName"},xt={key:0,class:"btn"},$t=["onClick"],Bt={class:"sell not-allowed"};const kt={key:2,class:"btn"},Ct=["onClick"],jt=["onClick"],Ot={key:0,class:"prince"},At=["src"],Lt={class:"name"},St={key:0,class:"loadName"},Tt={key:0,class:"btn"},Ft=["onClick"],It={class:"sell not-allowed"};const Et={key:2,class:"btn"},Dt=["onClick"],Nt=["onClick"],qt={key:0,class:"prince"},Vt=["src"],Rt={class:"name"},Wt={key:0,class:"loadName"},zt={key:0,class:"btn"},Pt=["onClick"],Gt={class:"sell not-allowed"};const Ht={key:2,class:"btn"},Mt=["onClick"],Ut=["onClick"],Jt={key:1,class:"noting"},Xt=Ve(()=>e("img",{src:Ka,alt:""},null,-1)),Yt={class:"txt"},Kt={href:"/"},Qt=Ve(()=>e("img",{src:Ka,alt:""},null,-1)),Zt=ls('<div class="col th" data-v-71605580><div class="name" data-v-71605580>Contract</div><div class="Fuji" data-v-71605580>Fuji</div><div class="Mumbai" data-v-71605580>BSC</div></div><div class="col td" data-v-71605580><div class="name" data-v-71605580>Badge</div><div class="Fuji" data-v-71605580>0x586eba6be3ffc2499df154aef81b6d3a342c8e34</div><div class="Mumbai" data-v-71605580>-----</div></div><div class="col td" data-v-71605580><div class="name" data-v-71605580>Game</div><div class="Fuji" data-v-71605580>0xD4c27B5A5c15B1524FC909F0FE0d191C4e893695</div><div class="Mumbai" data-v-71605580>0x79B73BdEFCD3C8417b01a2Ba73702BD1a7a650E1</div></div><div class="col td" data-v-71605580><div class="name" data-v-71605580>role</div><div class="Fuji" data-v-71605580>0x78F66E37e9fE077d2F0126E3a26e6FB0D14F2BB0</div><div class="Mumbai" data-v-71605580>-----</div></div><div class="col td" data-v-71605580><div class="name" data-v-71605580>head</div><div class="Fuji" data-v-71605580>0x4B4cbe55125B48e868AA68E08b7527524C46E8AC</div><div class="Mumbai" data-v-71605580>-----</div></div><div class="col td" data-v-71605580><div class="name" data-v-71605580>LootBox</div><div class="Fuji" data-v-71605580>0x55eFD6D4cF31F925E36d268C12353848c9e782fD</div><div class="Mumbai" data-v-71605580>0x10fdE59432D1d6eE7aD25448e3D8B9b3D2c08b89</div></div>',6),eo=[Zt],ao=za({setup(B){const{t:x}=Ua(),he=ts(),{proxy:M}=os(),se=H(()=>{var s,i;return(i=(s=o)==null?void 0:s.state.wallet)==null?void 0:i.realId}),ce=H(()=>{var s,i;return(i=(s=o)==null?void 0:s.state.wallet)==null?void 0:i.idTemp}),w=b(!1),J=b(!0),We=b(1),ze=b(0),Pe=b(0);let X=b([]);const N=b(0),ge=H(()=>{var s;return(s=o.state.user)==null?void 0:s.chainId}),Y=H(()=>{var s;return(s=o.state.myAssets)==null?void 0:s.transferSuccess}),G=b(""),fe=b(!1),ke=b(!1);Be(ge,(s,i)=>{!i||i==-1||(console.log("her2"),ee(V.value))},{immediate:!0,deep:!0}),Be(se,(s,i)=>{i==-1||!i||(console.log("her3"),ee(V.value),q(),oe())},{immediate:!0,deep:!0}),Be(Y,(s,i)=>{!i||(console.log("her4"),ee(V.value),q(),oe())},{immediate:!0,deep:!0});const Qa=s=>{if(s.target.innerText.length>10){const i=document.createElement("input");document.body.appendChild(i),i.setAttribute("value",s.target.innerText),i.select(),document.execCommand("copy")?(document.execCommand("copy"),o.dispatch("user/showDialog",{show:!0,info:{state:1,txt:x("message.common.mess_succ")}})):o.dispatch("user/showDialog",{show:!0,info:{state:0,txt:x("message.common.mess_copy_err")}}),document.body.removeChild(i)}},q=()=>{M.$api.get(`/code/user/baddress?address=${ce.value}`).then(s=>{G.value=s.data}).catch(s=>{console.log(s)})},T=b(null),Ge=b(null),K=b(500),Ce=b(544),Za=document.documentElement.clientWidth*.269+70;Ce.value=Za,b(null);const Ha=()=>{K.value=Ge.value.offsetTop+70;let s=T.value.offsetHeight;document.documentElement.clientHeight;let i=document.documentElement.scrollTop;T.value.style.top=i+K.value-s/1.5+"px",T.value.style.top.substring(0,T.value.style.top.length-2)<K.value&&(T.value.style.top=K.value+"px")},je=b({}),Ne=b(""),te=b(!1),oe=async()=>{if(ge.value==43113)var s=await t.ERC20balanceOf(Ma.abi,Ma.address),i=await t.ERC20balanceOf(Ee.abi,Ee.address);je.value.cyt=s||0,je.value.coin=i||0,console.log(ce.value,"idTemp"),M.$api.post(`/bobabrewery/boba/api/v1/cyberpop?walletAddress=${ce.value}`).then(f=>{var l,v;console.log(f.data,"data"),((l=f.data)==null?void 0:l.code)!=200?Ne.value="request fail":Ne.value="",((v=f.data)==null?void 0:v.data)?fe.value=!0:fe.value=!1}).catch(f=>{console.log(f)})},pe=s=>{o.dispatch("user/xplanChangeAni",!0),te.value=!0};let R=b(null);const W=b(null);b([]);let Oe=b(!1),He=b(!1),es=b([]);const le=b([]);Be(()=>le.value,(s,i)=>{if(console.log(s,"now"),s.length==0){ee(V.value);return}console.log(N.value,"loadingState"),N.value!=1&&async function f(l){l==0&&(X.value=[],window.scrollTo(0,0)),await ee(V.value,s[l]),console.log(9999),console.log(N.value,"loadingState.value"),console.log(s),++l<s.length?setTimeout(()=>{f(l)},400):(N.value=2,console.log(N.value,"loadingState filter Loading complete"))}(0)});let as=b([]);const Q=s=>{es.value.push(s)},Z=s=>{as.value.push(s)},Xe=s=>{console.log(le._rawValue)},re=s=>{console.log(N.value,"loadingState.value"),(N.value==2||N.value==0)&&(V.value=s,console.log("her5"),ee(s))},ie=b(0),ue=s=>new Promise((i,f)=>{M.$api.get(`/game/query?addr=${s}`).then(l=>{console.log(l.data,"gamepool"),i(l.data)}).catch(l=>{i(0)})}),$e=async s=>{if(console.log(s),!s.isLoading){if(s.type=="head_mumbai"||s.type=="head_fuji"){ze.value=s.type=="head_fuji"?C.address:z.address,Pe.value=C.abi;return}else if(s.type=="role_mumbai"||s.type=="role_fuji")ze.value=s.type=="role_fuji"?S.address:p.address,Pe.value=S.abi;else if(s.type=="game_mumbai"||s.type=="game_fuji"){ze.value=s.type=="role_fuji"?me.address:be.address,Pe.value=me.abi,ie.value=1;return}We.value=s.id,w.value=!0,J.value=!0}},ye=async s=>{if(ge.value!=80001||!s.isLoading)return;console.log(s);let i=await t.withdrawRole(Ye.abi,Ye.address,Number(s.id));console.log(i)},_e=()=>{J.value=!1,ie.value=0,setTimeout(()=>{w.value=!1},300)},{nft:Ae,nft_fuji:ne,arms:be,gamePool:Ye,GiftBox:de,cyberClub:z,cyberClub_Fuji:C,Cyborg:p,Cyborg_Fuji:S,game_Fuji:me,LootBox:ve,lootBox_Bsc:we,cytV2:Ma,coin:Ee,game_bsc:Le}=t.contracts,ee=async(s,i=!1)=>{if(i||(X.value=[],window.scrollTo(0,0)),N.value==1)return;N.value=1,console.log(N.value,"loadingState"),window.scrollTo(0,0),ke.value=!1;let f=await ue(ce.value),l=[],v=[],m=[];for(const k in f)if(k.length==6){let c=k,h=f[k];l.push({[c]:h})}else if(k.length==11)v.push(k);else if(k.length==7){let c=k,h=f[k];m.push({[c[c.length-1]]:h})}return console.log(l,v,m,"======>gamepool"),new Promise(async(k,c)=>{var h,L,Qe,Ze,ea,aa,sa,ta,oa,la,ia,na,da,ca,ra,ua,_a,ba,ma,va,ha,ga,fa,pa,ya,wa,xa,$a,Ba,ka,Ca,ja,Oa,Aa,La,Sa,Ta,Fa,Ia,Ea,Da,Na,qa,Va,Ra,P,I,E;if(ge.value==80001)if(s)if(s==1){if(i){if(i=="role"){let O=await t.tokensOfOwner(p.abi,p.address);await F(O,"role","role_mumbai")}else if(i=="head"){let O=await t.tokensOfOwner(z.abi,z.address);await F(O,"head","head_mumbai")}k(1);return}let A=await t.tokensOfOwner(p.abi,p.address);await F(A,"role","role_mumbai");let j=await t.tokensOfOwner(z.abi,z.address);await F(j,"head","head_mumbai")}else{if(i){if(i=="Game"){let O=await t.balanceOfBatch(be.abi,be.address,(oa=o.state.myBox)==null?void 0:oa.game);await $(O,"game","game_mumbai",(la=o.state.myBox)==null?void 0:la.game)}else if(i!="Badge"){let O=await t.balanceOfBatch(ve.abi,ve.address,(ia=o.state.myBox)==null?void 0:ia.box);await $(O,"box","box_mumbai",(na=o.state.myBox)==null?void 0:na.box)}k(1);return}let A=await t.balanceOfBatch(be.abi,be.address,(da=o.state.myBox)==null?void 0:da.game);await $(A,"game","game_mumbai",(ca=o.state.myBox)==null?void 0:ca.game);let j=await t.balanceOfBatch(ve.abi,ve.address,(ra=o.state.myBox)==null?void 0:ra.box);await $(j,"box","box_mumbai",(ua=o.state.myBox)==null?void 0:ua.box)}else{if(i){if(console.log(i,"filter"),i=="Game"){let Te=await t.balanceOfBatch(be.abi,be.address,(h=o.state.myBox)==null?void 0:h.game);await $(Te,"game","game_mumbai",(L=o.state.myBox)==null?void 0:L.game)}else if(i!="Badge")if(i=="role"){let Te=await t.tokensOfOwner(p.abi,p.address);await F(Te,"role","role_mumbai")}else if(i=="head"){let Te=await t.tokensOfOwner(z.abi,z.address);await F(Te,"head","head_mumbai")}else{let Te=await t.balanceOfBatch(ve.abi,ve.address,(Qe=o.state.myBox)==null?void 0:Qe.box);await $(Te,"box","box_mumbai",(Ze=o.state.myBox)==null?void 0:Ze.box)}k(1);return}let A=await t.balanceOfBatch(be.abi,be.address,(ea=o.state.myBox)==null?void 0:ea.game);await $(A,"game","game_mumbai",(aa=o.state.myBox)==null?void 0:aa.game);let j=await t.tokensOfOwner(p.abi,p.address);await F(j,"role","role_mumbai");let O=await t.tokensOfOwner(z.abi,z.address);await F(O,"head","head_mumbai");let Se=await t.balanceOfBatch(ve.abi,ve.address,(sa=o.state.myBox)==null?void 0:sa.box);await $(Se,"box","box_mumbai",(ta=o.state.myBox)==null?void 0:ta.box)}if(ge.value==43113)if(s)if(s==1){if(i){if(i=="role"){let O=await t.tokensOfOwner(S.abi,S.address);await F(O,"role","role_fuji")}else if(i=="head"){let O=await t.tokensOfOwner(C.abi,C.address);await F(O,"head","head_fuji")}k(1);return}let A=await t.tokensOfOwner(S.abi,S.address);await F(A,"role","role_fuji");let j=await t.tokensOfOwner(C.abi,C.address);await F(j,"head","head_fuji")}else{if(i){if(i=="Game"){let Se=await t.balanceOfBatch(me.abi,me.address,(Ba=o.state.myBox)==null?void 0:Ba.game);await $(Se,"game","game_fuji",(ka=o.state.myBox)==null?void 0:ka.game)}else if(i=="Badge"){let Se=await t.balanceOfBatch(ne.abi,ne.address,(Ca=o.state.myBox)==null?void 0:Ca.badge);await $(Se,"badge","badge_fuji",(ja=o.state.myBox)==null?void 0:ja.badge)}else{let Se=await t.balanceOfBatch(de.abi,de.address,(Oa=o.state.myBox)==null?void 0:Oa.box);await $(Se,"box","box_fuji",(Aa=o.state.myBox)==null?void 0:Aa.box)}k(1);return}let A=await t.balanceOfBatch(ne.abi,ne.address,(La=o.state.myBox)==null?void 0:La.badge);await $(A,"badge","badge_fuji",(Sa=o.state.myBox)==null?void 0:Sa.badge);let j=await t.balanceOfBatch(me.abi,me.address,(Ta=o.state.myBox)==null?void 0:Ta.game);await $(j,"game","game_fuji",(Fa=o.state.myBox)==null?void 0:Fa.game);let O=await t.balanceOfBatch(de.abi,de.address,(Ia=o.state.myBox)==null?void 0:Ia.box);await $(O,"box","box_fuji",(Ea=o.state.myBox)==null?void 0:Ea.box)}else{if(i){if(i=="Game"){let Fe=await t.balanceOfBatch(me.abi,me.address,(_a=o.state.myBox)==null?void 0:_a.game);await $(Fe,"game","game_fuji",(ba=o.state.myBox)==null?void 0:ba.game)}else if(i=="Badge"){let Fe=await t.balanceOfBatch(ne.abi,ne.address,(ma=o.state.myBox)==null?void 0:ma.badge);await $(Fe,"badge","badge_fuji",(va=o.state.myBox)==null?void 0:va.badge)}else if(i=="role"){let Fe=await t.tokensOfOwner(S.abi,S.address);await F(Fe,"role","role_fuji")}else if(i=="head"){let Fe=await t.tokensOfOwner(C.abi,C.address);await F(Fe,"head","head_fuji")}else{let Fe=await t.balanceOfBatch(de.abi,de.address,(ha=o.state.myBox)==null?void 0:ha.box);await $(Fe,"box","box_fuji",(ga=o.state.myBox)==null?void 0:ga.box)}k(1);return}let A=await t.balanceOfBatch(ne.abi,ne.address,(fa=o.state.myBox)==null?void 0:fa.badge);await $(A,"badge","badge_fuji",(pa=o.state.myBox)==null?void 0:pa.badge);let j=await t.balanceOfBatch(me.abi,me.address,(ya=o.state.myBox)==null?void 0:ya.game);await $(j,"game","game_fuji",(wa=o.state.myBox)==null?void 0:wa.game);let O=await t.tokensOfOwner(S.abi,S.address);await F(O,"role","role_fuji");let Se=await t.tokensOfOwner(C.abi,C.address);await F(Se,"head","head_fuji");let Te=await t.balanceOfBatch(de.abi,de.address,(xa=o.state.myBox)==null?void 0:xa.box);await $(Te,"box","box_fuji",($a=o.state.myBox)==null?void 0:$a.box)}if(ge.value==56)if(s){if(s!=1){let A=await t.balanceOfBatch(Le.abi,Le.address,(Ra=o.state.myBox)==null?void 0:Ra.game);await $(A,"game","game_bsc",(P=o.state.myBox)==null?void 0:P.game);let j=await t.balanceOfBatch(we.abi,we.address,(I=o.state.myBox)==null?void 0:I.box);j[9]>0&&(ke.value=!0),await $(j,"box","box_bsc",(E=o.state.myBox)==null?void 0:E.box)}}else{let A=await t.balanceOfBatch(Le.abi,Le.address,(Da=o.state.myBox)==null?void 0:Da.game);await $(A,"game","game_bsc",(Na=o.state.myBox)==null?void 0:Na.game);let j=await t.balanceOfBatch(we.abi,we.address,(qa=o.state.myBox)==null?void 0:qa.box);j[9]>0&&(ke.value=!0),await $(j,"box","box_bsc",(Va=o.state.myBox)==null?void 0:Va.box)}N.value=2,k(1)})},F=async(s,i,f,l)=>new Promise((v,m)=>{if(s.length==0){v(1);return}(function k(c){M.$api.get(`https://api.cyberpop.online/${i}/${s[c]}`).then(h=>{X.value.push({id:s[c],type:f,isLoading:l||!1,number:1,data:h||{name:s[c],image:"https://d2cimmz3cflrbm.cloudfront.net/nwhome/ba5fcf2b4854eebdc64dc80089f2cc26.png"}}),++c<s.length?k(c):v(1)}).catch(h=>{console.log(h)})})(0)}),$=async(s,i,f,l,v)=>new Promise((m,k)=>{(function c(h){if(s[h]==0){++h<s.length?c(h):m(1);return}M.$api.get(`https://api.cyberpop.online/${i}/${l[h]}`).then(L=>{(s[h]>0||h==101101)&&X.value.push({id:l[h],type:f,isLoading:v||!1,number:s[h],data:L||{name:s[h],image:"https://d2cimmz3cflrbm.cloudfront.net/nwhome/ba5fcf2b4854eebdc64dc80089f2cc26.png"}}),++h<s.length?c(h):m(1)}).catch(L=>{console.log(L)})})(0)});let V=b(0);const Me=H(()=>{var s;return(s=o.state.myAssets)==null?void 0:s.readyAssets});Be(Me,(s,i)=>{console.log(s,i,"newVal"),s!=-1&&(console.log("her1",s),setTimeout(()=>{ee(V.value),q(),oe()},500))},{immediate:!0,deep:!0});const Ke=H(()=>{var s,i;return(i=(s=o)==null?void 0:s.state.myAssets)==null?void 0:i.transferActive}),a=b(null),n=s=>{s.isLoading||(o.dispatch("myAssets/transferChange",!0),o.dispatch("myAssets/transferChangeAni",!0),a.value=JSON.parse(JSON.stringify(s)),s.type=="server_mumbai"?(R.value=t.contracts.nft.abi,W.value=t.contracts.nft.address):s.type=="game_mumbai"?(R.value=t.contracts.arms.abi,W.value=t.contracts.arms.address):s.type=="role_mumbai"?(R.value=t.contracts.erc721.abi,W.value=t.contracts.erc721.address):s.type=="game_mumbai"?(R.value=t.contracts.arms.abi,W.value=t.contracts.arms.address):s.type=="game_fuji"?(R.value=t.contracts.game_Fuji.abi,W.value=t.contracts.game_Fuji.address):s.type=="role_fuji"?(R.value=t.contracts.Cyborg_Fuji.abi,W.value=t.contracts.Cyborg_Fuji.address):s.type=="box_fuji"?(R.value=t.contracts.GiftBox.abi,W.value=t.contracts.GiftBox.address):s.type=="head_fuji"?(R.value=t.contracts.cyberClub_Fuji.abi,W.value=t.contracts.cyberClub_Fuji.address):s.type=="head_mumbai"?(R.value=t.contracts.cyberClub.abi,W.value=t.contracts.cyberClub.address):s.type=="box_mumbai"?(R.value=t.contracts.LootBox.abi,W.value=t.contracts.LootBox.address):s.type=="badge_fuji"?(R.value=t.contracts.nft_fuji.abi,W.value=t.contracts.nft_fuji.address):s.type=="box_bsc"?(R.value=t.contracts.lootBox_Bsc.abi,W.value=t.contracts.lootBox_Bsc.address):s.type=="game_bsc"&&(R.value=t.contracts.game_bsc.abi,W.value=t.contracts.game_bsc.address),console.log(s.type,"item.type"),console.log(a.value,"transferItem.value "))},y=s=>{s.number==0||s.type=="box_bsc"||(o.dispatch("user/xplanChangeAni",!0),o.dispatch("user/TipsState",{show:!0,info:{hasLoading:!0,hasClose:!0,title:x("message.box.opening"),content:x("message.box.open_text"),addNetwork:!1,boxId:s.id,haveNFT:s.number}}))};return Ja(()=>{var s;setTimeout(()=>{se.value==-1&&M.$route.path=="/knapsack"&&he.push("/")},2e3),window.scrollTo(0,0),window.addEventListener("scroll",Ha,!0),o.dispatch("user/showDialog",{show:!1,info:{}}),o.dispatch("wallet/metaChange",!1),o.dispatch("myAssets/transferChange",!1),((s=o.state.myAssets)==null?void 0:s.readyAssets)!==-1&&(ee(V.value),q(),oe())}),(s,i)=>{const f=Ie("header-a"),l=Ie("loading"),v=Ie("footer-a"),m=Ie("load-game-a"),k=Ie("popup-a");return u(),_(De,null,[Ue(f,{path:"javascript:scrollTo(0,0);",type:0,ref:(c,h)=>{h.header=c}},null,512),e("div",ws,[e("div",xs,[e("div",$s,[Bs,G.value?(u(),_("div",ks,"Hi, "+d(G.value),1)):(u(),_("div",Cs,d(s.$t("message.assets.wel_name")),1)),e("div",js,d(r(se)==-1?"":r(se)),1),e("div",Os,d(s.$t("message.assets.wel_desc")),1)]),r(Me)!=-1?(u(),_("div",As,[e("div",{class:"search",ref:(c,h)=>{h.myNav=c,T.value=c},style:Pa({top:Ce.value+"PX"})},[e("div",Ls,[r(Ne)?(u(),_("p",Ss,d(r(Ne)),1)):(u(),_("p",Ts,[fe.value?(u(),_("span",{key:0,onClick:pe},[xe(d(s.$t("message.assets.haveWhite"))+" ",1),Fs])):ke.value?(u(),_("span",{key:1,onClick:pe},[xe(d(s.$t("message.assets.box9HaveWhite"))+" ",1),Is])):(u(),_("span",Es,d(s.$t("message.assets.notHaveWhite")),1))]))]),Ds,e("div",Ns,[e("div",qs,[e("p",null,d(s.$t("message.assets.my_cyt")),1),e("p",null,d(r(je).cyt||0),1),e("div",Vs,d(s.$t("message.assets.get_cyt")),1)]),e("div",Rs,[e("p",null,d(s.$t("message.assets.my_coin")),1),e("p",null,d(r(je).coin||0),1)]),Ws]),e("div",zs,d(r(x)("message.assets.search_title")),1),e("div",Ps,[e("input",{type:"text",placeholder:r(x)("message.assets.input_pla")},null,8,Gs)]),e("div",Hs,[e("div",{class:"name",onClick:i[0]||(i[0]=c=>Xe())},d(r(x)("message.assets.type1")),1),e("div",Ms,[e("form",Us,[e("div",null,[D(e("input",{ref:Q,checked:r(Oe),type:"checkbox","onUpdate:modelValue":i[1]||(i[1]=c=>le.value=c),name:"type",id:"type1",value:"Game"},null,8,Js),[[Ga,le.value]]),e("label",Xs,[e("span",null,d(r(x)("message.assets.type1_item6")),1)])]),e("div",null,[D(e("input",{ref:Q,checked:r(Oe),type:"checkbox","onUpdate:modelValue":i[2]||(i[2]=c=>le.value=c),name:"type",id:"type2",value:"Badge"},null,8,Ys),[[Ga,le.value]]),e("label",Ks,[e("span",null,d(r(x)("message.assets.type1_item7")),1)])]),e("div",null,[D(e("input",{ref:Q,checked:r(Oe),type:"checkbox","onUpdate:modelValue":i[3]||(i[3]=c=>le.value=c),name:"type",id:"type3",value:"role"},null,8,Qs),[[Ga,le.value]]),e("label",Zs,[e("span",null,d(r(x)("message.assets.type1_item8")),1)])]),e("div",null,[D(e("input",{ref:Q,checked:r(Oe),type:"checkbox","onUpdate:modelValue":i[4]||(i[4]=c=>le.value=c),name:"type",id:"type4",value:"head"},null,8,et),[[Ga,le.value]]),e("label",at,[e("span",null,d(r(x)("message.assets.type1_item9")),1)])]),e("div",null,[D(e("input",{ref:Q,checked:r(Oe),type:"checkbox","onUpdate:modelValue":i[5]||(i[5]=c=>le.value=c),name:"type",id:"type5",value:"LootBox"},null,8,st),[[Ga,le.value]]),e("label",tt,[e("span",null,d(r(x)("message.assets.type1_item10")),1)])])])])]),e("div",ot,[e("div",{class:"name",onClick:i[6]||(i[6]=c=>Xe())},d(s.$t("message.assets.type2")),1),e("form",lt,[e("div",null,[e("input",{ref:Z,checked:r(He),type:"checkbox",name:"quality",id:"quality1",value:"Legend"},null,8,it),e("label",nt,[e("span",null,d(r(x)("message.assets.type2_item1")),1)])]),e("div",null,[e("input",{ref:Z,checked:r(He),type:"checkbox",name:"quality",id:"quality2",value:"Epic"},null,8,dt),e("label",ct,[e("span",null,d(r(x)("message.assets.type2_item2")),1)])]),e("div",null,[e("input",{ref:Z,checked:r(He),type:"checkbox",name:"quality",id:"quality3",value:"Rare"},null,8,rt),e("label",ut,[e("span",null,d(r(x)("message.assets.type2_item3")),1)])]),e("div",null,[e("input",{ref:Z,checked:r(He),type:"checkbox",name:"quality",id:"quality4",value:"Common"},null,8,_t),e("label",bt,[e("span",null,d(r(x)("message.assets.type2_item4")),1)])])])])],4),e("div",mt,[e("div",{class:"top flex_centent_center",ref:(c,h)=>{h.ecrchange=c,Ge.value=c}},[e("div",{class:U(["typeALL",r(V)?"":"active"]),onClick:i[7]||(i[7]=c=>re(0))},"ALL",2),e("div",{class:U(["type1",r(V)==1?"active":""]),onClick:i[8]||(i[8]=c=>re(1))},"ERC 721",2),e("div",{class:U(["type2",r(V)==2?"active":""]),onClick:i[9]||(i[9]=c=>re(2))},"ERC 1155",2)],512),N.value!=2?(u(),qe(l,{key:0,show:!0,index:.5},null,8,["index"])):g("",!0),D(e("div",{class:"ercType",style:Pa({"margin-top":N.value!=2?"12vw":"0"})},[r(X).length>0?(u(),_("ul",vt,[(u(!0),_(De,null,Je(r(X),(c,h)=>(u(),_("li",{key:h},[e("div",ht,[c.data.image?(u(),_("img",{key:0,src:c.data.image,alt:""},null,8,gt)):(u(),_("video",ft,[e("source",{src:c.data.animation_url,type:"video/mp4"},null,8,pt)]))]),e("div",yt,[c.isLoading?(u(),_("div",wt)):g("",!0),xe(d(c.data.name),1),e("span",null,"x"+d(c.number),1)]),c.type!="box_mumbai"&&c.type!="box_fuji"&&c.type!="box_bsc"?(u(),_("div",xt,[e("div",{class:U(["transfer",{"not-allowed":c.isLoading}]),onClick:L=>n(c)},d(s.$t("message.assets.btn_tran")),11,$t),e("div",Bt,d(s.$t("message.assets.btn_sell")),1)])):g("",!0),(c.type!="box_mumbai"&&c.type!="box_fuji",g("",!0)),c.type=="box_mumbai"||c.type=="box_fuji"||c.type=="box_bsc"?(u(),_("div",kt,[e("div",{class:"transfer",onClick:L=>n(c)},d(s.$t("message.assets.btn_tran")),9,Ct),e("div",{class:U(["sell",{"not-allowed":c.type=="box_bsc"}]),onClick:L=>y(c)},d(s.$t("message.assets.btn_unpack")),11,jt)])):g("",!0)]))),128))])):g("",!0)],4),[[ae,!r(V)]]),D(e("div",{class:"ercType",style:Pa({"margin-top":N.value!=2?"12vw":"0"})},[r(X).length>0?(u(),_("ul",Ot,[(u(!0),_(De,null,Je(r(X),(c,h)=>(u(),_("li",{key:h},[e("img",{src:c.data.image,alt:""},null,8,At),e("div",Lt,[c.isLoading?(u(),_("div",St)):g("",!0),xe(d(c.data.name),1),e("span",null,"x"+d(c.number),1)]),c.type!="box_mumbai"&&c.type!="box_fuji"&&c.type!="box_bsc"?(u(),_("div",Tt,[e("div",{class:U(["transfer",{"not-allowed":c.isLoading}]),onClick:L=>n(c)},d(s.$t("message.assets.btn_tran")),11,Ft),e("div",It,d(s.$t("message.assets.btn_sell")),1)])):g("",!0),(c.type!="box_mumbai"&&c.type!="box_fuji",g("",!0)),c.type=="box_mumbai"||c.type=="box_fuji"||c.type=="box_bsc"?(u(),_("div",Et,[e("div",{class:"transfer",onClick:L=>n(c)},d(s.$t("message.assets.btn_tran")),9,Dt),e("div",{class:"sell",onClick:L=>y(c)},d(s.$t("message.assets.btn_unpack")),9,Nt)])):g("",!0)]))),128))])):g("",!0)],4),[[ae,r(V)==1]]),D(e("div",{class:"ercType",style:Pa({"margin-top":N.value!=2?"12vw":"0"})},[r(X).length>0?(u(),_("ul",qt,[(u(!0),_(De,null,Je(r(X),(c,h)=>(u(),_("li",{key:h},[e("img",{src:c.data.image,alt:""},null,8,Vt),e("div",Rt,[c.isLoading?(u(),_("div",Wt)):g("",!0),xe(d(c.data.name),1),e("span",null,"x"+d(c.number),1)]),c.type!="box_mumbai"&&c.type!="box_fuji"&&c.type!="box_bsc"?(u(),_("div",zt,[e("div",{class:U(["transfer",{"not-allowed":c.isLoading}]),onClick:L=>n(c)},d(s.$t("message.assets.btn_tran")),11,Pt),e("div",Gt,d(s.$t("message.assets.btn_sell")),1)])):g("",!0),(c.type!="box_mumbai"&&c.type!="box_fuji",g("",!0)),c.type=="box_mumbai"||c.type=="box_fuji"||c.type=="box_bsc"?(u(),_("div",Ht,[e("div",{class:"transfer",onClick:L=>n(c)},d(s.$t("message.assets.btn_tran")),9,Mt),e("div",{class:"sell",onClick:L=>y(c)},d(s.$t("message.assets.btn_unpack")),9,Ut)])):g("",!0)]))),128))])):g("",!0)],4),[[ae,r(V)==2]]),N.value==2&&r(X).length==0?(u(),_("div",Jt,[e("p",null,d(s.$t("message.assets.not_data")),1),Xt])):g("",!0)])])):g("",!0),r(Me)==-1?(u(),_("div",{key:1,class:"nothing",ref:(c,h)=>{h.nothing=c}},[e("div",Yt,[xe(d(r(x)("message.assets.nothing")),1),e("a",Kt,d(r(x)("message.assets.nothing_home")),1)]),Qt],512)):g("",!0)]),e("div",{class:"contract",onClick:i[10]||(i[10]=c=>Qa(c))},eo)]),Ue(v),w.value?(u(),qe(m,{key:0,isShowTips:w.value,transition:J.value,tokenId:We.value,loadAbi:Pe.value,loadAddress:ze.value,number:ie.value,onInitLoad:_e},null,8,["isShowTips","transition","tokenId","loadAbi","loadAddress","number"])):g("",!0),D(Ue(k,{transferInfo:a.value,abi:r(R),address:W.value},null,8,["transferInfo","abi","address"]),[[ae,r(Ke)]]),te.value?(u(),qe(ys,{key:1,isShowTips:te.value,whiteList:fe.value,isBoxId9:ke.value,onCloseFinshed:i[11]||(i[11]=c=>te.value=!1)},null,8,["isShowTips","whiteList","isBoxId9"])):g("",!0)],64)}}});var so=Wa(ao,[["__scopeId","data-v-71605580"]]),to="/assets/clear-input.02cbc06c.svg",oo="/assets/search-icon.29ae1bf7.svg",lo="/assets/search-iconActived.f33d8fb3.svg";const cs=B=>(Xa("data-v-2000369c"),B=B(),Ya(),B),io={class:"container flex_center"},no=cs(()=>e("div",{class:"cover"},null,-1)),co=cs(()=>e("div",{class:"coverborder"},null,-1)),ro={class:"content"},uo={class:"title"},_o={class:"text"},bo={class:"text"},mo=za({props:{isShowTips:Boolean,isBoxId9:Boolean,whiteList:Boolean},emits:["closeFinshed"],setup(B,{expose:x,emit:he}){Ua(),x({fn:()=>{}}),H(()=>{var w;return(w=o.state.myAssets)==null?void 0:w.readyAssets});const se=H(()=>{var w,J;return(J=(w=o)==null?void 0:w.state.user)==null?void 0:J.xplanAni});b(0);const ce=()=>{o.dispatch("user/xplanChangeAni",!1),setTimeout(()=>{he("closeFinshed")},300)};return Ja(()=>{}),(w,J)=>(u(),_("div",io,[e("div",{class:U(["mask",B.isShowTips&&(r(se)?"bounceShow":"bounceHide")])},[no,co,e("img",{class:"close",src:ss,alt:"",onClick:ce}),e("div",ro,[e("div",uo,d(B.isBoxId9&&B.whiteList?w.$t("message.assets.haveWhite"):w.$t("message.assets.box9HaveWhite")),1),e("p",_o,d(B.isBoxId9?w.$t("message.assets.whiteList1HavaBox"):w.$t("message.assets.whiteList1")),1),e("p",bo,d(w.$t("message.assets.whiteList2")),1)])],2)]))}});var vo=Wa(mo,[["__scopeId","data-v-2000369c"]]);const Re=B=>(Xa("data-v-46329edc"),B=B(),Ya(),B),ho={class:"assets"},go={class:"wrap"},fo={class:"welcome"},po=Re(()=>e("div",{class:"icon"},[e("img",{src:ns,alt:""})],-1)),yo={key:0,class:"title"},wo={key:1,class:"title"},xo={class:"id"},$o={class:"desc"},Bo={class:"whiteList"},ko={key:0},Co={key:1},jo=Re(()=>e("img",{src:"https://d2cimmz3cflrbm.cloudfront.net/nwAssets/whitelist.png",alt:""},null,-1)),Oo=Re(()=>e("img",{src:"https://d2cimmz3cflrbm.cloudfront.net/nwAssets/whitelist.png",alt:""},null,-1)),Ao={key:2},Lo={class:"myAssets"},So={class:"item"},To={class:"button"},Fo={class:"item"},Io=Re(()=>e("div",{class:"line"},null,-1)),Eo={class:"search"},Do=["placeholder"],No={src:oo,alt:""},qo={class:"menuSelect"},Vo={class:"wrapbox"},Ro={class:"token"},Wo=Re(()=>e("div",null,"ALL",-1)),zo=[Wo],Po={class:"type"},Go={"data-name":"All types",class:"selected"},Ho={"data-name":"Game"},Mo={"data-name":"Badge"},Uo={"data-name":"role"},Jo={"data-name":"head"},Xo={"data-name":"LootBox"},Yo={class:"btn"},Ko={class:"cancel"},Qo={class:"ok"},Zo={class:"quality"},el={class:"selected"},al={class:"btn"},sl={class:"cancel"},tl={class:"ok"},ol={key:1,class:"ecr"},ll={class:"ecrAll"},il={key:0,class:"prince"},nl=["src"],dl={class:"name"},cl={key:0,class:"btn"},rl=["onClick"],ul={class:"sell not-allowed"};const _l={key:2,class:"btn"},bl=["onClick"],ml=["onClick"],vl={class:"ecr721"},hl={key:0,class:"prince"},gl=["src"],fl={class:"name"},pl={key:0,class:"btn"},yl=["onClick"],wl={class:"sell not-allowed"};const xl={key:2,class:"btn"},$l=["onClick"],Bl=["onClick"],kl={class:"ecr115"},Cl={key:0,class:"prince"},jl=["src"],Ol={class:"name"},Al={key:0,class:"btn"},Ll=["onClick"],Sl={class:"sell not-allowed"};const Tl={key:2,class:"btn"},Fl=["onClick"],Il=["onClick"],El={key:0,class:"noting"},Dl=Re(()=>e("img",{src:Ka,alt:""},null,-1)),Nl={key:2,class:"nothing"},ql=Re(()=>e("img",{src:Ka,alt:""},null,-1)),Vl=[ql],Rl=ls('<div class="col th" data-v-46329edc><div class="name" data-v-46329edc>Contract</div><div class="Fuji" data-v-46329edc>Fuji</div><div class="Mumbai" data-v-46329edc>BSC</div></div><div class="col td" data-v-46329edc><div class="name" data-v-46329edc>Badge</div><div class="Fuji" data-v-46329edc>0x586eba6be3ffc2499df154aef81b6d3a342c8e34</div><div class="Mumbai" data-v-46329edc>-----</div></div><div class="col td" data-v-46329edc><div class="name" data-v-46329edc>Game</div><div class="Fuji" data-v-46329edc>0xD4c27B5A5c15B1524FC909F0FE0d191C4e893695</div><div class="Mumbai" data-v-46329edc>0x79B73BdEFCD3C8417b01a2Ba73702BD1a7a650E1</div></div><div class="col td" data-v-46329edc><div class="name" data-v-46329edc>role</div><div class="Fuji" data-v-46329edc>0x78F66E37e9fE077d2F0126E3a26e6FB0D14F2BB0</div><div class="Mumbai" data-v-46329edc>-----</div></div><div class="col td" data-v-46329edc><div class="name" data-v-46329edc>head</div><div class="Fuji" data-v-46329edc>0x4B4cbe55125B48e868AA68E08b7527524C46E8AC</div><div class="Mumbai" data-v-46329edc>-----</div></div><div class="col td" data-v-46329edc><div class="name" data-v-46329edc>LootBox</div><div class="Fuji" data-v-46329edc>0x55eFD6D4cF31F925E36d268C12353848c9e782fD</div><div class="Mumbai" data-v-46329edc>0x10fdE59432D1d6eE7aD25448e3D8B9b3D2c08b89</div></div>',6),Wl=[Rl],zl=za({setup(B){const{t:x}=Ua(),he=ts(),{proxy:M}=os(),se=H(()=>{var a,n;return(n=(a=o)==null?void 0:a.state.wallet)==null?void 0:n.realId}),ce=H(()=>{var a,n;return(n=(a=o)==null?void 0:a.state.wallet)==null?void 0:n.idTemp}),w=b(1),J=b(0),We=b(0),ze=b(!1),Pe=b(!0),X=b(""),N=a=>{if(a.target.innerText.length>10){const n=document.createElement("input");document.body.appendChild(n),n.setAttribute("value",a.target.innerText),n.select(),document.execCommand("copy")?(document.execCommand("copy"),o.dispatch("user/showDialog",{show:!0,info:{state:1,txt:x("message.common.mess_succ")}})):o.dispatch("user/showDialog",{show:!0,info:{state:0,txt:x("message.common.mess_copy_err")}}),document.body.removeChild(n)}},ge=()=>{M.$api.get(`/code/user/baddress?address=${ce.value}`).then(a=>{X.value=a.data}).catch(a=>{console.log(a)})};let Y=b([]);const G=b(0),fe=H(()=>{var a;return(a=o.state.user)==null?void 0:a.chainId}),ke=H(()=>{var a;return(a=o.state.myAssets)==null?void 0:a.readyAssets}),Qa=H(()=>{var a;return(a=o.state.myAssets)==null?void 0:a.transferSuccess});Be(fe,(a,n)=>{!n||n==-1||(console.log("her2"),z(S.value))},{immediate:!0,deep:!0}),Be(se,(a,n)=>{n==-1||!n||(console.log(2,a),ge(),V(),z(S.value))},{immediate:!0,deep:!0}),Be(Qa,(a,n)=>{!n||(console.log(3,a),ge(),V(),z(S.value))},{immediate:!0,deep:!0});let q=b(null);const T=b(null),Ge=b(null);let K=b(!1),Ce=b("");const Za=()=>{Ce.value="",Ge.value.focus()},Ha=a=>{Ge.value.contains(a.target)||(Ce.value="",K.value=!1)},je=b([]),Ne=(a,n)=>{je.value=[];let y="",s="";const i=a.querySelectorAll(".selected");let f=i.length;if(n){for(let l=0;l<f;l++)i[l].classList.remove("selected");f=0}if(f==0)s=a.parentElement.querySelectorAll("li")[1].querySelector("div").innerText,a.parentElement.querySelector("li").querySelector("div").innerText=s,a.parentElement.querySelectorAll("li")[1].querySelector("div").classList.add("selected");else{let l=0;i[0].getAttribute("data-name")=="All types"&&f>1&&(i[0].classList.remove("selected"),l=1),i[0].getAttribute("data-name")=="All types"&&f===1&&(je.value=[],f=0,y=i[0].innerText);for(let v=l;v<f;v++)je.value.push(i[v].getAttribute("data-name")),v==f-1?y+=i[v].innerText:y+=i[v].innerText+", ";a.parentElement.querySelector("li").querySelector("div").innerText=y}};Be(()=>je.value,(a,n)=>{if(console.log(a,"now"),a.length==0||!a[0]){z(S.value);return}console.log(G.value,"loadingState"),G.value!=1&&async function y(s){s==0&&(Y.value=[],window.scrollTo(0,0)),await z(S.value,a[s]),console.log(9999),console.log(G.value,"loadingState.value"),console.log(a),++s<a.length?setTimeout(()=>{y(s)},400):(G.value=2,console.log(G.value,"loadingState filter Loading complete"))}(0)});let te=b(!1),oe=b(!1),pe=b(!1);const R=a=>{switch(a){case 1:te.value=!te.value,oe.value=!1,pe.value=!1;break;case 2:oe.value=!oe.value,te.value=!1,pe.value=!1;break;default:pe.value=!pe.value,te.value=!1,oe.value=!1;break}},W=a=>{const n=a.target.parentElement.parentElement;if(a.target.className=="ok")Ne(n),te.value=!1,oe.value=!1,pe.value=!1;else if(a.target.className=="cancel")Ne(n,!0),te.value=!1,oe.value=!1,pe.value=!1;else if(a.target.classList.toggle("selected"),a.target.innerText=="ALL"||a.target.innerText=="ERC 721"||a.target.innerText=="ERC 1155"){n.parentElement.querySelector("li").querySelector("div").innerText=a.target.innerText;for(var y=a.target.parentNode.children,s=0,i=y.length;s<i;s++)y[s]!==a.target&&y[s].classList.remove("selected");te.value=!1,oe.value=!1,pe.value=!1}},Oe=a=>{(G.value==2||G.value==0)&&(S.value=a,z(a))},He=a=>new Promise((n,y)=>{M.$api.get(`/game/query?addr=${a}`).then(s=>{console.log(s.data,"gamepool"),n(s.data)}).catch(s=>{n(0)})}),es=async a=>{console.log(a),!a.isLoading&&(a.type=="head_mumbai"||a.type=="head_fuji"?(J.value=a.type=="head_fuji"?ue.address:ie.address,We.value=ue.abi):a.type=="role_mumbai"||a.type=="role_fuji"?(J.value=a.type=="role_fuji"?ye.address:$e.address,We.value=ye.abi):(a.type=="game_mumbai"||a.type=="game_fuji")&&(J.value=a.type=="role_fuji"?_e.address:Z.address,We.value=_e.abi),w.value=a.id,ze.value=!0,Pe.value=!0)},le=async a=>{if(fe.value!=80001||!a.isLoading)return;console.log(a);let n=await t.withdrawRole(Xe.abi,Xe.address,Number(a.id));console.log(n)},{nft:as,nft_fuji:Q,arms:Z,gamePool:Xe,GiftBox:re,cyberClub:ie,cyberClub_Fuji:ue,Cyborg:$e,Cyborg_Fuji:ye,game_Fuji:_e,LootBox:Ae,lootBox_Bsc:ne,cytV2:be,coin:Ye,game_bsc:de}=t.contracts,z=async(a,n)=>{if(n||(Y.value=[]),n||(Y.value=[],window.scrollTo(0,0)),G.value==1)return;G.value=1;let y=await He(ce.value);ee.value=!1;let s=[],i=[],f=[];for(const l in y)if(l.length==6){let v=l,m=y[l];s.push({[v]:m})}else if(l.length==11)i.push(l);else if(l.length==7){let v=l,m=y[l];f.push({[v[v.length-1]]:m})}return console.log(s,i,f,"====>gamepool"),new Promise(async(l,v)=>{var m,k,c,h,L,Qe,Ze,ea,aa,sa,ta,oa,la,ia,na,da,ca,ra,ua,_a,ba,ma,va,ha,ga,fa,pa,ya,wa,xa,$a,Ba,ka,Ca,ja,Oa,Aa,La,Sa,Ta,Fa,Ia,Ea,Da,Na,qa,Va,Ra;if(fe.value==80001)if(a)if(a==1){if(n){if(n=="role"){let E=await t.tokensOfOwner($e.abi,$e.address);await C(E,"role","role_mumbai")}else if(n=="head"){let E=await t.tokensOfOwner(ie.abi,ie.address);await C(E,"head","head_mumbai")}l(1);return}let P=await t.tokensOfOwner($e.abi,$e.address);await C(P,"role","role_mumbai");let I=await t.tokensOfOwner(ie.abi,ie.address);await C(I,"head","head_mumbai")}else{if(n){if(n=="Game"){let E=await t.balanceOfBatch(Z.abi,Z.address,(aa=o.state.myBox)==null?void 0:aa.game);await p(E,"game","game_mumbai",(sa=o.state.myBox)==null?void 0:sa.game)}else if(n!="Badge"){let E=await t.balanceOfBatch(Ae.abi,Ae.address,(ta=o.state.myBox)==null?void 0:ta.box);await p(E,"box","box_mumbai",(oa=o.state.myBox)==null?void 0:oa.box)}l(1);return}let P=await t.balanceOfBatch(Z.abi,Z.address,(la=o.state.myBox)==null?void 0:la.game);await p(P,"game","game_mumbai",(ia=o.state.myBox)==null?void 0:ia.game);let I=await t.balanceOfBatch(Ae.abi,Ae.address,(na=o.state.myBox)==null?void 0:na.box);await p(I,"box","box_mumbai",(da=o.state.myBox)==null?void 0:da.box)}else{if(n){if(console.log(n,"filter"),n=="Game"){let j=await t.balanceOfBatch(Z.abi,Z.address,(m=o.state.myBox)==null?void 0:m.game);await p(j,"game","game_mumbai",(k=o.state.myBox)==null?void 0:k.game)}else if(n!="Badge")if(n=="role"){let j=await t.tokensOfOwner($e.abi,$e.address);await C(j,"role","role_mumbai")}else if(n=="head"){let j=await t.tokensOfOwner(ie.abi,ie.address);await C(j,"head","head_mumbai")}else{let j=await t.balanceOfBatch(Ae.abi,Ae.address,(c=o.state.myBox)==null?void 0:c.box);await p(j,"box","box_mumbai",(h=o.state.myBox)==null?void 0:h.box)}l(1);return}let P=await t.balanceOfBatch(Z.abi,Z.address,(L=o.state.myBox)==null?void 0:L.game);await p(P,"game","game_mumbai",(Qe=o.state.myBox)==null?void 0:Qe.game);let I=await t.tokensOfOwner($e.abi,$e.address);await C(I,"role","role_mumbai");let E=await t.tokensOfOwner(ie.abi,ie.address);await C(E,"head","head_mumbai");let A=await t.balanceOfBatch(Ae.abi,Ae.address,(Ze=o.state.myBox)==null?void 0:Ze.box);await p(A,"box","box_mumbai",(ea=o.state.myBox)==null?void 0:ea.box)}if(fe.value==43113)if(a)if(a==1){if(n){if(n=="role"){let E=await t.tokensOfOwner(ye.abi,ye.address);await C(E,"role","role_fuji")}else if(n=="head"){let E=await t.tokensOfOwner(ue.abi,ue.address);await C(E,"head","head_fuji")}l(1);return}let P=await t.tokensOfOwner(ye.abi,ye.address);await C(P,"role","role_fuji");let I=await t.tokensOfOwner(ue.abi,ue.address);await C(I,"head","head_fuji")}else{if(n){if(n=="Game"){let A=await t.balanceOfBatch(_e.abi,_e.address,(wa=o.state.myBox)==null?void 0:wa.game);await p(A,"game","game_fuji",(xa=o.state.myBox)==null?void 0:xa.game)}else if(n=="Badge"){let A=await t.balanceOfBatch(Q.abi,Q.address,($a=o.state.myBox)==null?void 0:$a.badge);await p(A,"badge","badge_fuji",(Ba=o.state.myBox)==null?void 0:Ba.badge)}else{let A=await t.balanceOfBatch(re.abi,re.address,(ka=o.state.myBox)==null?void 0:ka.box);await p(A,"box","box_fuji",(Ca=o.state.myBox)==null?void 0:Ca.box)}l(1);return}let P=await t.balanceOfBatch(Q.abi,Q.address,(ja=o.state.myBox)==null?void 0:ja.badge);await p(P,"badge","badge_fuji",(Oa=o.state.myBox)==null?void 0:Oa.badge);let I=await t.balanceOfBatch(_e.abi,_e.address,(Aa=o.state.myBox)==null?void 0:Aa.game);await p(I,"game","game_fuji",(La=o.state.myBox)==null?void 0:La.game);let E=await t.balanceOfBatch(re.abi,re.address,(Sa=o.state.myBox)==null?void 0:Sa.box);await p(E,"box","box_fuji",(Ta=o.state.myBox)==null?void 0:Ta.box)}else{if(n){if(n=="Game"){let O=await t.balanceOfBatch(_e.abi,_e.address,(ca=o.state.myBox)==null?void 0:ca.game);await p(O,"game","game_fuji",(ra=o.state.myBox)==null?void 0:ra.game)}else if(n=="Badge"){let O=await t.balanceOfBatch(Q.abi,Q.address,(ua=o.state.myBox)==null?void 0:ua.badge);await p(O,"badge","badge_fuji",(_a=o.state.myBox)==null?void 0:_a.badge)}else if(n=="role"){let O=await t.tokensOfOwner(ye.abi,ye.address);await C(O,"role","role_fuji")}else if(n=="head"){let O=await t.tokensOfOwner(ue.abi,ue.address);await C(O,"head","head_fuji")}else{let O=await t.balanceOfBatch(re.abi,re.address,(ba=o.state.myBox)==null?void 0:ba.box);await p(O,"box","box_fuji",(ma=o.state.myBox)==null?void 0:ma.box)}l(1);return}let P=await t.balanceOfBatch(Q.abi,Q.address,(va=o.state.myBox)==null?void 0:va.badge);await p(P,"badge","badge_fuji",(ha=o.state.myBox)==null?void 0:ha.badge);let I=await t.balanceOfBatch(_e.abi,_e.address,(ga=o.state.myBox)==null?void 0:ga.game);await p(I,"game","game_fuji",(fa=o.state.myBox)==null?void 0:fa.game);let E=await t.tokensOfOwner(ye.abi,ye.address);await C(E,"role","role_fuji");let A=await t.tokensOfOwner(ue.abi,ue.address);await C(A,"head","head_fuji");let j=await t.balanceOfBatch(re.abi,re.address,(pa=o.state.myBox)==null?void 0:pa.box);await p(j,"box","box_fuji",(ya=o.state.myBox)==null?void 0:ya.box)}if(fe.value==56)if(a){if(a!=1){let P=await t.balanceOfBatch(de.abi,de.address,(Na=o.state.myBox)==null?void 0:Na.game);await p(P,"game","game_bsc",(qa=o.state.myBox)==null?void 0:qa.game);let I=await t.balanceOfBatch(ne.abi,ne.address,(Va=o.state.myBox)==null?void 0:Va.box);I[9]>0&&(ee.value=!0),await p(I,"box","box_bsc",(Ra=o.state.myBox)==null?void 0:Ra.box)}}else{let P=await t.balanceOfBatch(de.abi,de.address,(Fa=o.state.myBox)==null?void 0:Fa.game);await p(P,"game","game_bsc",(Ia=o.state.myBox)==null?void 0:Ia.game);let I=await t.balanceOfBatch(ne.abi,ne.address,(Ea=o.state.myBox)==null?void 0:Ea.box);I[9]>0&&(ee.value=!0),await p(I,"box","box_bsc",(Da=o.state.myBox)==null?void 0:Da.box)}G.value=2,l(1)})},C=async(a,n,y,s)=>new Promise((i,f)=>{if(a.length==0){i(1);return}(function l(v){M.$api.get(`https://api.cyberpop.online/${n}/${a[v]}`).then(m=>{Y.value.push({id:a[v],type:y,isLoading:s||!1,number:1,data:m||{name:a[v],image:"https://d2cimmz3cflrbm.cloudfront.net/nwhome/ba5fcf2b4854eebdc64dc80089f2cc26.png"}}),++v<a.length?l(v):i(1)}).catch(m=>{console.log(m)})})(0)}),p=async(a,n,y,s,i)=>new Promise((f,l)=>{(function v(m){if(a[m]==0){++m<a.length?v(m):f(1);return}M.$api.get(`https://api.cyberpop.online/${n}/${s[m]}`).then(k=>{(a[m]>0||m==101101)&&Y.value.push({id:s[m],type:y,isLoading:i||!1,number:a[m],data:k||{name:a[m],image:"https://d2cimmz3cflrbm.cloudfront.net/nwhome/ba5fcf2b4854eebdc64dc80089f2cc26.png"}}),++m<a.length?v(m):f(1)}).catch(k=>{console.log(k)})})(0)});let S=b(0);const me=H(()=>{var a,n;return(n=(a=o)==null?void 0:a.state.myAssets)==null?void 0:n.transferActive}),ve=b(null),we=a=>{o.dispatch("myAssets/transferChange",!0),o.dispatch("myAssets/transferChangeAni",!0),ve.value=JSON.parse(JSON.stringify(a)),a.type=="server_mumbai"?(q.value=t.contracts.nft.abi,T.value=t.contracts.nft.address):a.type=="game_mumbai"?(q.value=t.contracts.arms.abi,T.value=t.contracts.arms.address):a.type=="role_mumbai"?(q.value=t.contracts.erc721.abi,T.value=t.contracts.erc721.address):a.type=="game_mumbai"?(q.value=t.contracts.arms.abi,T.value=t.contracts.arms.address):a.type=="game_fuji"?(q.value=t.contracts.game_Fuji.abi,T.value=t.contracts.game_Fuji.address):a.type=="role_fuji"?(q.value=t.contracts.Cyborg_Fuji.abi,T.value=t.contracts.Cyborg_Fuji.address):a.type=="box_fuji"?(q.value=t.contracts.GiftBox.abi,T.value=t.contracts.GiftBox.address):a.type=="head_fuji"?(q.value=t.contracts.cyberClub_Fuji.abi,T.value=t.contracts.cyberClub_Fuji.address):a.type=="head_mumbai"?(q.value=t.contracts.cyberClub.abi,T.value=t.contracts.cyberClub.address):a.type=="box_mumbai"?(q.value=t.contracts.LootBox.abi,T.value=t.contracts.LootBox.address):a.type=="badge_fuji"?(q.value=t.contracts.nft_fuji.abi,T.value=t.contracts.nft_fuji.address):a.type=="box_bsc"?(q.value=t.contracts.lootBox_Bsc.abi,T.value=t.contracts.lootBox_Bsc.address):a.type=="game_bsc"&&(q.value=t.contracts.game_bsc.abi,T.value=t.contracts.game_bsc.address),console.log(a.type,"item.type"),console.log(ve.value,"transferItem.value ")},Ma=()=>{K.value=!1},Ee=b({}),Le=b(!1),ee=b(!1),F=b(""),$=b(!1),V=async()=>{if(fe.value==43113)var a=await t.ERC20balanceOf(be.abi,be.address),n=await t.ERC20balanceOf(Ye.abi,Ye.address);Ee.value.cyt=a||0,Ee.value.coin=n||0,console.log(Ee.value,"cyt"),M.$api.post(`/bobabrewery/boba/api/v1/cyberpop?walletAddress=${ce.value}`).then(y=>{var s,i;console.log(y.data,"data"),((s=y.data)==null?void 0:s.code)!=200?F.value="request fail":F.value="",((i=y.data)==null?void 0:i.data)?Le.value=!0:Le.value=!1}).catch(y=>{console.log(y)})},Me=a=>{o.dispatch("user/xplanChangeAni",!0),$.value=!0},Ke=async a=>{a.number==0||a.type=="box_bsc"||(o.dispatch("user/xplanChangeAni",!0),o.dispatch("user/TipsState",{show:!0,info:{hasLoading:!1,hasClose:!0,title:x("message.box.opening"),content:x("message.box.open_text"),addNetwork:!1,boxId:a.id,haveNFT:a.number}}))};return rs(()=>{window.removeEventListener("click",Ha,!0)}),Be(ke,(a,n)=>{a!=-1&&(console.log("her1",a),setTimeout(()=>{z(S.value),ge(),V()},500))},{immediate:!0,deep:!0}),Ja(async()=>{var a,n;setTimeout(()=>{se.value==-1&&M.$route.path=="/knapsack"&&he.push("/")},2e3),window.scrollTo(0,0),window.addEventListener("click",Ha,!0),o.dispatch("myAssets/transferChange",!1),o.dispatch("myAssets/transferChangeAni",!1),console.log((a=o.state.myAssets)==null?void 0:a.readyAssets,"store.state.myAssets?.readyAssets "),((n=o.state.myAssets)==null?void 0:n.readyAssets)!==-1&&(z(S.value),V(),ge())}),(a,n)=>{const y=Ie("header-b"),s=Ie("loading"),i=Ie("footer-b"),f=Ie("popup-b");return u(),_(De,null,[Ue(y,{path:"javascript:scrollTo(0,0);",type:0}),e("div",ho,[e("div",go,[e("div",fo,[po,X.value?(u(),_("div",yo,"Hi, "+d(X.value),1)):(u(),_("div",wo,d(a.$t("message.assets.wel_name")),1)),e("div",xo,d(r(se)==-1?"":r(se)),1),e("div",$o,d(a.$t("message.assets.wel_desc")),1),e("div",Bo,[r(F)?(u(),_("p",ko,d(r(F)),1)):(u(),_("p",Co,[Le.value?(u(),_("span",{key:0,onClick:Me},[xe(d(a.$t("message.assets.haveWhite"))+" ",1),jo])):ee.value?(u(),_("span",{key:1,onClick:Me},[xe(d(a.$t("message.assets.box9HaveWhite"))+" ",1),Oo])):(u(),_("span",Ao,d(a.$t("message.assets.notHaveWhite")),1))]))]),e("div",Lo,[e("div",So,[e("p",null,d(a.$t("message.assets.my_cyt"))+": ",1),e("p",null,d(r(Ee).cyt||0),1),e("div",To,d(a.$t("message.assets.get_cyt")),1)]),e("div",Fo,[e("p",null,d(a.$t("message.assets.my_coin"))+": ",1),e("p",null,d(r(Ee).coin||0),1)]),Io]),e("div",Eo,[e("div",{class:U(["input",r(K)?"actived":""])},[D(e("input",{"onUpdate:modelValue":n[0]||(n[0]=l=>is(Ce)?Ce.value=l:Ce=l),onFocus:n[1]||(n[1]=l=>is(K)?K.value=!0:K=!0),ref:(l,v)=>{v.myInput=l,Ge.value=l},type:"text",placeholder:a.$t("message.assets.input_pla")},null,40,Do),[[us,r(Ce)]]),D(e("img",{onClick:n[2]||(n[2]=l=>Za()),class:"clear",src:to,alt:""},null,512),[[ae,r(K)]]),D(e("img",No,null,512),[[ae,!r(K)]]),D(e("img",{onClick:n[3]||(n[3]=l=>Ma()),src:lo,alt:""},null,512),[[ae,r(K)]])],2),e("div",qo,[e("div",Vo,[e("ul",Ro,[e("li",{onClick:n[4]||(n[4]=l=>R(1))},zo),D(e("li",{class:"item",onClick:n[8]||(n[8]=l=>W(l))},[e("div",{class:"ecrA selected",onClick:n[5]||(n[5]=l=>Oe(0))},"ALL"),e("div",{class:"ecr7",onClick:n[6]||(n[6]=l=>Oe(1))},"ERC 721"),e("div",{class:"ecr1",onClick:n[7]||(n[7]=l=>Oe(2))},"ERC 1155")],512),[[ae,r(te)]])]),e("ul",Po,[e("li",{onClick:n[9]||(n[9]=l=>R(2))},[e("div",null,d(a.$t("message.assets.type1")),1)]),D(e("li",{class:"item",onClick:n[10]||(n[10]=l=>W(l))},[e("div",Go,d(a.$t("message.assets.type1_item_b")),1),e("div",Ho,d(a.$t("message.assets.type1_item6")),1),e("div",Mo,d(a.$t("message.assets.type1_item7")),1),e("div",Uo,d(a.$t("message.assets.type1_item8")),1),e("div",Jo,d(a.$t("message.assets.type1_item9")),1),e("div",Xo,d(a.$t("message.assets.type1_item10")),1),e("div",Yo,[e("div",Ko,d(a.$t("message.assets.btn_cancel_b")),1),e("div",Qo,d(a.$t("message.assets.btn_ok_b")),1)])],512),[[ae,r(oe)]])]),e("ul",Zo,[e("li",{onClick:n[11]||(n[11]=l=>R(3))},[e("div",null,d(a.$t("message.assets.type2")),1)]),D(e("li",{class:"item",onClick:n[12]||(n[12]=l=>W(l))},[e("div",el,d(a.$t("message.assets.type2_item_b")),1),e("div",null,d(a.$t("message.assets.type2_item1")),1),e("div",null,d(a.$t("message.assets.type2_item2")),1),e("div",null,d(a.$t("message.assets.type2_item3")),1),e("div",null,d(a.$t("message.assets.type2_item4")),1),e("div",al,[e("div",sl,d(a.$t("message.assets.btn_cancel_b")),1),e("div",tl,d(a.$t("message.assets.btn_ok_b")),1)])],512),[[ae,r(pe)]])])])])])]),G.value!=2?(u(),qe(s,{key:0,show:!0,index:.5},null,8,["index"])):g("",!0),r(ke)!==-1?(u(),_("div",ol,[e("div",{class:"ecrchange",style:Pa({"padding-top":G.value!=2?"12vw":"0"})},[D(e("div",ll,[r(Y).length>0?(u(),_("ul",il,[(u(!0),_(De,null,Je(r(Y),(l,v)=>(u(),_("li",{key:v},[e("img",{src:l.data.image,alt:""},null,8,nl),e("div",dl,[xe(d(l.data.name),1),e("span",null,"x"+d(l.number),1)]),l.type!="box_mumbai"&&l.type!="box_fuji"&&l.type!="box_bsc"?(u(),_("div",cl,[e("div",{class:U(["transfer",{"not-allowed":l.isLoading}]),onClick:m=>we(l)},d(a.$t("message.assets.btn_tran")),11,rl),e("div",ul,d(a.$t("message.assets.btn_sell")),1)])):g("",!0),(l.type!="box_mumbai"&&l.type!="box_fuji",g("",!0)),l.type=="box_mumbai"||l.type=="box_fuji"||l.type=="box_bsc"?(u(),_("div",_l,[e("div",{class:"transfer",onClick:m=>we(l)},d(a.$t("message.assets.btn_tran")),9,bl),e("div",{class:U(["sell",{"not-allowed":l.tyoe=="box_bsc"}]),onClick:m=>Ke(l)},d(a.$t("message.assets.btn_unpack")),11,ml)])):g("",!0)]))),128))])):g("",!0)],512),[[ae,!r(S)]]),D(e("div",vl,[r(Y).length>0?(u(),_("ul",hl,[(u(!0),_(De,null,Je(r(Y),(l,v)=>(u(),_("li",{key:v},[e("img",{src:l.data.image,alt:""},null,8,gl),e("div",fl,[xe(d(l.data.name),1),e("span",null,"x"+d(l.number),1)]),l.type!="box_mumbai"&&l.type!="box_fuji"&&l.type!="box_bsc"?(u(),_("div",pl,[e("div",{class:U(["transfer",{"not-allowed":l.isLoading}]),onClick:m=>we(l)},d(a.$t("message.assets.btn_tran")),11,yl),e("div",wl,d(a.$t("message.assets.btn_sell")),1)])):g("",!0),(l.type!="box_mumbai"&&l.type!="box_fuji",g("",!0)),l.type=="box_mumbai"||l.type=="box_fuji"||l.type=="box_bsc"?(u(),_("div",xl,[e("div",{class:"transfer",onClick:m=>we(l)},d(a.$t("message.assets.btn_tran")),9,$l),e("div",{class:U(["sell",{"not-allowed":l.tyoe=="box_bsc"}]),onClick:m=>Ke(l)},d(a.$t("message.assets.btn_unpack")),11,Bl)])):g("",!0)]))),128))])):g("",!0)],512),[[ae,r(S)==1]]),D(e("div",kl,[r(Y).length>0?(u(),_("ul",Cl,[(u(!0),_(De,null,Je(r(Y),(l,v)=>(u(),_("li",{key:v},[e("img",{src:l.data.image,alt:""},null,8,jl),e("div",Ol,[xe(d(l.data.name),1),e("span",null,"x"+d(l.number),1)]),l.type!="box_mumbai"&&l.type!="box_fuji"&&l.type!="box_bsc"?(u(),_("div",Al,[e("div",{class:U(["transfer",{"not-allowed":l.isLoading}]),onClick:m=>we(l)},d(a.$t("message.assets.btn_tran")),11,Ll),e("div",Sl,d(a.$t("message.assets.btn_sell")),1)])):g("",!0),(l.type!="box_mumbai"&&l.type!="box_fuji",g("",!0)),l.type=="box_mumbai"||l.type=="box_fuji"||l.type=="box_bsc"?(u(),_("div",Tl,[e("div",{class:"transfer",onClick:m=>we(l)},d(a.$t("message.assets.btn_tran")),9,Fl),e("div",{class:U(["sell",{"not-allowed":l.tyoe=="box_bsc"}]),onClick:m=>Ke(l)},d(a.$t("message.assets.btn_unpack")),11,Il)])):g("",!0)]))),128))])):g("",!0)],512),[[ae,r(S)==2]]),G.value==2&&r(Y).length==0?(u(),_("div",El,[e("p",null,d(a.$t("message.assets.not_data")),1),Dl])):g("",!0)],4)])):g("",!0),r(ke)==-1?(u(),_("div",Nl,Vl)):g("",!0),e("div",{class:"contract",onClick:n[13]||(n[13]=l=>N(l))},Wl)])]),Ue(i),D(Ue(f,{transferInfo:ve.value,abi:r(q),address:T.value},null,8,["transferInfo","abi","address"]),[[ae,r(me)]]),$.value?(u(),qe(vo,{key:0,isShowTips:$.value,whiteList:Le.value,isBoxId9:ee.value,onCloseFinshed:n[14]||(n[14]=l=>$.value=!1)},null,8,["isShowTips","whiteList","isBoxId9"])):g("",!0)],64)}}});var Pl=Wa(zl,[["__scopeId","data-v-46329edc"]]);const Gl=za({setup(B){const x=H(()=>{var he;return((he=o.state.sys)==null?void 0:he.innerWidth)||0});return(he,M)=>r(x)>1025?(u(),qe(so,{key:0})):(u(),qe(Pl,{key:1}))}});var Jl=Wa(Gl,[["__scopeId","data-v-92e16016"]]);export{Jl as default};
